<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mongo db html</title>
</head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<body>
    <header>

    </header>
    <main>
    <h1>彪のホームページ</h1>
    <h6>テストファイル</h6>
   
    
    <p>
   <form action ="https://akiratest.onrender.com/Human" method ="post" >
    <label for="inputField">入力</label>
    <!-- name="namae"はnameが固定で、"namae"はデータのキーを表してる。-->
    <input type="text" id ="inputField" name="namae" placeholder="テキスト入力" required>
    <label for="ageField">年齢</label>
    <input type="number" id="ageField" name="toshi" placeholder="年齢を入力" required>
    <button type="submit">送信</button>
   </form>
    </p>

    </main>

    <h1>名前リスト</h1>
    <ul id = names></ul>

    <script>
        fetch("/Humans")
        .then(response => response.json())
        .then(data=>{
            const namelist =document.getElementById("names") 
            data.forEach(name =>{
                const li = document.createElement("li")
                li.textContent = name;

                // ゴミ箱アイコンを作成
                const trashicon = document.createElement("i")
                trashicon.classList.add("fas", "fa-trash");
                trashicon.style.cursor = "pointer";

                // アイテム削除
                trashicon.addEventListener("click",()=>{
                    namelist.removeChild(li)
                })

                li.appendChild(trashicon);
                namelist.appendChild(li)
            })
        })
    </script>
</body>
</html>